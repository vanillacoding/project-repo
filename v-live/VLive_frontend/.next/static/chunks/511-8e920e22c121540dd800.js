(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[511],{9389:function(n,e,t){"use strict";t.d(e,{A_:function(){return c},GH:function(){return u},j0:function(){return l}});var r=t(5861),i=t(7757),o=t.n(i);function a(n,e,t,r){return s.apply(this,arguments)}function s(){return(s=(0,r.Z)(o().mark((function n(e,t,r,i){var a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch(t,{method:e,headers:{"Content-Type":"application/json",authorization:r&&"bearer ".concat(null===r||void 0===r?void 0:r.token)},body:i});case 3:a=n.sent,n.next=9;break;case 6:throw n.prev=6,n.t0=n.catch(0),new Error(n.t0);case 9:return n.abrupt("return",a);case 10:case"end":return n.stop()}}),n,null,[[0,6]])})))).apply(this,arguments)}function c(n,e,t){return a("GET",n,e,t)}function u(n,e,t){return a("PUT",n,e,t)}function l(n,e,t){return a("POST",n,e,t)}},694:function(n,e,t){"use strict";t.d(e,{Z:function(){return p}});var r,i=t(168),o=t(4942),a=t(4925),s=(t(7294),t(4524)),c=t(5893),u=["children"];function l(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function d(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?l(Object(t),!0).forEach((function(e){(0,o.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function p(n){var e=n.children,t=(0,a.Z)(n,u);return(0,c.jsx)(f,d(d({},t),{},{children:e}))}p.defaultProps={type:"button"};var f=s.Z.button(r||(r=(0,i.default)(["\n  all: unset;\n  width: ",";\n  height: ",";\n  padding: 15px 20px;\n  font-size: ",";\n  line-height: ",";\n  font-weight: ",";\n  text-align: center;\n  cursor: pointer;\n  border-radius: ",";\n  background-color: ",";\n  transition-property: scale, translateY;\n  transition: scale 300ms ease-in;\n  color: ",";\n\n  &:hover {\n    transform: scale(0.97);\n    opacity: 80%;\n    background-color: ",";\n    color: ",";\n  }\n"])),(function(n){return n.width||"130px"}),(function(n){return n.height||"20px"}),(function(n){return n.fontSize||"15px"}),(function(n){return n.fontSize||"14px"}),(function(n){return n.fontWeight||"500"}),(function(n){return n.borderRadius||"20px"}),(function(n){var e=n.bgColor,t=n.theme;return e||t.gray}),(function(n){var e=n.color,t=n.theme;return e||t.black}),(function(n){var e=n.hoverBgColor,t=n.theme;return e||t.white}),(function(n){var e=n.hoverColor,t=n.theme;return e||t.darkNavy}))},3172:function(n,e,t){"use strict";t.d(e,{Z:function(){return a}});t(7294);var r=t(1664),i=t(694),o=t(5893);function a(n){var e=n.message;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("p",{children:e}),(0,o.jsx)(r.default,{href:"/",passHref:!0,children:(0,o.jsx)("a",{children:(0,o.jsx)(i.Z,{color:"red",children:"\ud648\uc73c\ub85c \ub3cc\uc544\uac00\uae30"})})})]})}},2511:function(n,e,t){"use strict";t.d(e,{Z:function(){return P}});var r,i,o,a,s,c=t(168),u=t(7294),l=t(1664),d=t(4524),p=t(4942),f=t(5861),h=t(7757),x=t.n(h),g=t(4651),m=t(5675),b=t(9254),v=t(6388),E=t(3486),N=t(7144),j=t(9389),w=t(3172),y=t(694),_=t(5893);function S(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function O(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?S(Object(t),!0).forEach((function(e){(0,p.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):S(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function T(n){var e=n.isModalOpen,t=n.onClose,r=(0,u.useState)([]),i=r[0],o=r[1],a=(0,u.useState)({name:"",episodeId:""}),s=a[0],c=a[1],l=(0,g.useRouter)();function d(){return(d=(0,f.Z)(x().mark((function n(e){var t,r,i,o,a,c,u,d,p,f,h,g,m;return x().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),t=s.name,r=s.episodeId,n.prev=2,i=JSON.parse(sessionStorage.getItem("user")),n.next=6,(0,j.j0)("".concat(E.b.URL,"/channel"),i,JSON.stringify({name:t,episodeId:r,host:i._id}));case 6:return o=n.sent,n.next=9,o.json();case 9:if(a=n.sent,c=a.result,u=a.data,d=a.message,p=u._id,"error"!==c){n.next=16;break}throw new Error(d);case 16:return n.next=18,(0,j.GH)("".concat(E.b.URL,"/channel/").concat(p),i,JSON.stringify({state:"enter",userId:i._id}));case 18:return f=n.sent,n.next=21,f.json();case 21:if(h=n.sent,g=h.result,m=h.message,"error"!==g){n.next=26;break}throw new Error(m);case 26:v.UX.emit(N.EVENTS.CREATE_CHANNEL,u),l.push("/channel/".concat(p)),n.next=33;break;case 30:return n.prev=30,n.t0=n.catch(2),n.abrupt("return",(0,_.jsx)(w.Z,{message:n.t0.message}));case 33:case"end":return n.stop()}}),n,null,[[2,30]])})))).apply(this,arguments)}function h(n){var e=n.currentTarget.id;c(O(O({},s),{},{episodeId:e}))}return(0,u.useEffect)((function(){function n(){return(n=(0,f.Z)(x().mark((function n(){var e,t,r,i,a,s;return x().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e=JSON.parse(sessionStorage.getItem("user")),n.next=4,(0,j.A_)("".concat(E.b.URL,"/episode"),e);case 4:return t=n.sent,n.next=7,t.json();case 7:if(r=n.sent,i=r.result,a=r.data,s=r.message,"error"!==i){n.next=13;break}return n.abrupt("return",alert(s));case 13:o(a),n.next=19;break;case 16:return n.prev=16,n.t0=n.catch(0),n.abrupt("return",(0,_.jsx)(w.Z,{message:n.t0.message}));case 19:case"end":return n.stop()}}),n,null,[[0,16]])})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[e]),(0,_.jsxs)(k,{children:[(0,_.jsxs)("div",{className:"header",children:[(0,_.jsx)("span",{className:"title",children:"\ucc44\ub110\uac1c\uc124 \ud558\uae30"}),(0,_.jsx)(y.Z,{className:"exit-button",onClick:t,children:"\ub098\uac00\uae30"})]}),(0,_.jsxs)(A,{children:[(0,_.jsxs)(L,{children:[(0,_.jsx)("span",{className:"channel-name",children:"\ucc44\ub110 \uc774\ub984\uc744 \uc785\ub825\ud558\uc138\uc694"}),(0,_.jsx)("input",{type:"text",name:"name",placeholder:"ex) \uc800\ub791 \uc5f0\uae30\ubc30\ud2c0 \ud558\uc2e4 \ubd84 \ub4e4\uc5b4\uc624\uc138\uc694",value:s.name,onChange:function(n){var e=n.target,t=e.name,r=e.value;c(O(O({},s),{},(0,p.Z)({},t,r)))}})]}),(0,_.jsxs)(I,{children:[(0,_.jsx)("span",{className:"episode-select",children:"\uc5f0\uae30\ud560 \uc791\ud488\uc744 \uc120\ud0dd\ud558\uc138\uc694"}),(0,_.jsx)("ul",{className:"episode-list",children:i.map((function(n){return(0,_.jsxs)(Z,{id:n._id,onClick:h,children:[(0,_.jsx)("span",{className:"episode-title ".concat(s.episodeId===n._id&&"color"),children:n.title}),(0,_.jsx)(m.default,{src:n.thumbnail,alt:"episode-thumbnail",id:n._id,width:180,height:200})]},n._id)}))})]}),(0,_.jsx)("div",{className:"button",children:(0,_.jsx)(y.Z,{type:"submit",onClick:function(n){return d.apply(this,arguments)},bgColor:b.Z.blue,color:b.Z.white,children:"\ucc44\ub110 \uac1c\uc124"})})]})]})}var C,k=d.Z.div(r||(r=(0,c.default)(["\n  width: 100%;\n  height: 100%;\n  border: 1px solid white;\n  background-color: ","90;\n  color: ",";\n\n  .exit-button {\n    padding: 5px 10px;\n    border-radius: 10px;\n    background-color: transparent;\n    border: 1px solid white;\n    color: ",";\n    cursor: pointer;\n\n    :hover {\n      opacity: 0.7;\n    }\n  }\n\n  .header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    height: 10%;\n    margin-top: 25px;\n    padding: 0 50px;\n\n    .title {\n      font-size: 24px;\n      line-height: 24px;\n      color: ",";\n    }\n  }\n"])),(function(n){return n.theme.darkNavy}),(function(n){return n.theme.white}),(function(n){return n.theme.white}),(function(n){return n.theme.blue})),A=d.Z.form(i||(i=(0,c.default)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  height: 90%;\n  padding: 30px 50px;\n  box-sizing: border-box;\n  text-align: left;\n\n  .channel-name {\n    display: block;\n    font-size: 1.1em;\n    color: ",";\n  }\n\n  .button {\n    margin: 10px auto 0 auto;\n  }\n"])),(function(n){return n.theme.white})),L=d.Z.div(o||(o=(0,c.default)(["\n  height: 80px;\n\n  .channel-name {\n    font-size: 16px;\n  }\n\n  input {\n    width: 300px;\n    margin-top: 10px;\n    padding: 5px 10px;\n  }\n"]))),I=d.Z.div(a||(a=(0,c.default)(["\n  margin-top: 10px;\n  height: 180px;\n\n  .episode-select {\n    font-size: 1.1em;\n    color: ",";\n  }\n\n  .episode-list {\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    padding: 0;\n  }\n"])),(function(n){return n.theme.white})),Z=d.Z.li(s||(s=(0,c.default)(["\n  display: flex;\n  flex-direction: column;\n  height: 110px;\n  margin: 0 60px 0 0;\n  font-size: 12px;\n  list-style: none;\n  cursor: pointer;\n\n  .episode-title {\n    margin-bottom: 10px;\n    font-size: 1.2em;\n  }\n\n  .color {\n    color: ",";\n  }\n"])),(function(n){return n.theme.pink})),R=t(4461);function P(){var n=(0,u.useState)(!1),e=n[0],t=n[1],r=(0,u.useState)(!1),i=r[0],o=r[1];function a(){t(!1)}return(0,u.useEffect)((function(){o(!!sessionStorage.getItem("user"))})),(0,_.jsxs)(D,{loginStatus:i,children:[(0,_.jsx)(l.default,{href:"/main",passHref:!0,children:(0,_.jsx)("span",{className:"nav",children:"CHANNEL"})}),(0,_.jsx)(l.default,{href:"/",passHref:!0,children:(0,_.jsx)("span",{className:"nav logo",children:"VLIVE"})}),(0,_.jsx)("span",{className:"nav create-channel",onClick:function(){t(!0)},children:"CREATE CHANNEL"}),e&&(0,_.jsx)(R.Z,{onClose:a,children:(0,_.jsx)(T,{onClose:a,isModalOpen:e})})]})}var D=d.Z.header(C||(C=(0,c.default)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n  height: 10vh;\n  text-align: center;\n  background-color: ",";\n  box-shadow: ",";\n\n  .nav {\n    width: 33.3vh;\n    box-sizing: border-box;\n    cursor: pointer;\n    font-weight: 600;\n    font-size: 1.1em;\n    color: ",";\n\n    &:hover {\n      color: ",";\n      transform: scale(1.05);\n    }\n  }\n\n  .logo {\n    font-weight: 800;\n    font-size: 2em;\n    color: ",";\n  }\n\n  .nav.create-channel {\n    cursor: ",";\n    pointer-events: ",";\n  }\n"])),(function(n){return n.theme.darkNavy}),(function(n){return n.theme.blueShadow}),(function(n){return n.theme.white}),(function(n){return n.theme.blue}),(function(n){return n.theme.blue}),(function(n){return n.loginStatus?"pointer":"not-allowed"}),(function(n){return n.loginStatus?"auto":"none"}))},4461:function(n,e,t){"use strict";t.d(e,{Z:function(){return u}});var r,i,o,a=t(168),s=t(4524),c=t(5893);function u(n){var e=n.children,t=n.onClose;return(0,c.jsxs)(l,{children:[(0,c.jsx)(d,{"data-testid":"dimmed",onClick:t}),(0,c.jsx)(p,{children:e})]})}var l=s.Z.div(r||(r=(0,a.default)(["\n  width: 100%;\n  height: 100%;\n"]))),d=s.Z.div(i||(i=(0,a.default)(["\n  z-index: 99;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  background: ","85;\n"])),(function(n){return n.theme.darkNavy})),p=s.Z.div(o||(o=(0,a.default)(["\n  z-index: 999;\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  width: 600px;\n  height: 450px;\n  text-align: center;\n  transform: translate(-50%, -50%);\n  box-shadow: ",";\n"])),(function(n){return n.theme.whiteShadow}))},3486:function(n){n.exports.b={URL:"https://api.vlive.live"}},7144:function(n){n.exports.EVENTS={ENTER_CHANNEL:"enter channel",LISTEN_ENTER_CHANNEL:"listen enter channel",CREATE_CHANNEL:"create channel",LISTEN_CREATE_CHANNEL:"listen create channel",EXIT_CHANNEL:"exit channel",LISTEN_EXIT_CHANNEL:"listen exit channel",END_CHANNEL:"end channel",LISTEN_END_CHANNEL:"listen end channel",NEW_CHAT:"new chat",LISTEN_NEW_CHAT:"listen new chat",PLAYER_READY:"player ready",LISTEN_PLAYER_READY:"listen player ready",LISTEN_SEND_SIGNAL:"listen send signal",ALL_USER:"all user",SENDING_SIGNAL:"sending signal",RETURNING_SIGNAL:"returning signal",USER_JOINED:"user joined",RECEIVING_RETURNED_SIGNAL:"receiving returned signal",LISTEN_GAME_START:"listen game start",READY_TO_START:"start game",LISTEN_READY_TO_START:"listen start game"}},6388:function(n,e,t){"use strict";t.d(e,{cH:function(){return o},sV:function(){return a},UX:function(){return s}});var r=t(7294),i=(0,t(8594).ZP)(),o=function(){return i.id};function a(n,e){return(0,r.useEffect)((function(){return i.on(n,e),function(){i.off(n,e)}}),[n,e]),i}var s=i}}]);